<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org" th:replace="layout :: view(~{::title}, ~{::main}, ~{::styles})">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Đăng nhập - Bookstore</title>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet">
    <th:block th:fragment="styles">
        <link rel="stylesheet" href="/css/login.css">
    </th:block>
</head>
<body>
<!-- Header -->

<!-- Main Content -->
<main class="bl-main">
    <div class="bl-login-container">
        <!-- Left Side - Image Panel -->
        <div class="bl-image-panel">
            <div class="bl-background-image" style="background-image: url('https://images.unsplash.com/photo-1602399481667-07536109851e?q=80&w=687&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D');"></div>
            <div class="bl-image-gradient"></div>
            <div class="bl-image-content">
                <p class="bl-image-title">Khám phá thế giới qua những trang sách</p>
                <p class="bl-image-subtitle">Hàng ngàn đầu sách đang chờ bạn.</p>
            </div>
        </div>

        <!-- Right Side - Form Panel -->
        <div class="bl-form-panel">
            <div class="bl-form-header">
                <h1 class="bl-form-title">Đăng nhập</h1>
                <p class="bl-form-subtitle">Chào mừng bạn quay trở lại với KBook.</p>
            </div>

            <form class="login-form" th:action="@{/login}" method="post" th:object="${request}">
                <!-- Email -->
                <div class="bl-form-group">
                    <label for="bl-email">Email</label>
                    <div class="bl-input-wrapper">
                        <input class="login-input" type="email" id="bl-email" th:field="*{email}" placeholder="name@example.com">
                        <span class="bl-input-icon">
                                <span class="material-symbols-outlined">mail</span>
                        </span>
                    </div>
                    <p class="validation-message" th:if="${emailError}" th:text="${emailError}"></p>
                    <p class="validation-message"
                       th:if="${loginErrors != null and loginErrors.containsKey('email')}"
                       th:text="${loginErrors['email']}">
                    </p>
                </div>

                <!-- Password -->
                <div class="bl-form-group">
                    <div class="bl-label-row">
                        <label for="bl-password">Mật khẩu</label>
                        <a href="#" class="bl-forgot-link">Quên mật khẩu?</a>
                    </div>
                    <div class="bl-input-wrapper">
                        <input class="login-input" type="password" id="bl-password" name="password" th:field="*{password}" placeholder="Nhập mật khẩu của bạn">
                        <button type="button" class="password-toggle" >
                            <span class="material-symbols-outlined">visibility_off</span>
                        </button>
                    </div>
                    <p th:if="${#fields.hasErrors('password')}" class="validation-message" th:errors="*{password}"></p>
                    <p class="validation-message"
                       th:if="${loginErrors != null and loginErrors.containsKey('password')}"
                       th:text="${loginErrors['password']}">
                    </p>
                </div>

                <!-- Submit Button -->
                <button type="submit" class="bl-submit-button">Đăng nhập</button>

                <!-- Divider -->
                <div class="bl-divider">
                    <div class="bl-divider-line"></div>
                    <span class="bl-divider-text">Hoặc</span>
                    <div class="bl-divider-line"></div>
                </div>

                <!-- Social Login -->
                <div class="bl-social-login">
                    <a href="/oauth2/authorization/google" class="bl-social-button">
                        <svg viewBox="0 0 24 24">
                            <path d="M12.0003 20.45c4.6667 0 8.45-3.7833 8.45-8.45 0-4.6667-3.7833-8.45-8.45-8.45-4.6667 0-8.45 3.7833-8.45 8.45 0 4.6667 3.7833 8.45 8.45 8.45Z" fill="#fff" fill-opacity="0" stroke="none"></path>
                            <path d="M20.1018 10.1654h-8.1014v3.6846h4.6322c-.1996 1.0776-.8072 1.99-1.7207 2.602l2.7845 2.1604c1.6293-1.5005 2.569-3.709 2.569-6.2846 0-.6163-.0553-1.2202-.1636-1.8024l-.0004-.3599Z" fill="#4285F4"></path>
                            <path d="M12.0004 18.45c2.279 0 4.1906-.7555 5.5862-2.044l-2.7845-2.1604c-.756.5065-1.723.806-2.8017.806-2.199 0-4.0624-1.4854-4.7265-3.482l-2.8776 2.2312c1.4187 2.8166 4.316 4.6492 7.604 4.6492l.0001-.0001Z" fill="#34A853"></path>
                            <path d="M7.2739 11.5696c-.1716-.514-.2696-1.0623-.2696-1.63 0-.5678.098-1.116.2696-1.63l-2.8776-2.2312C3.6053 7.6473 3.12 9.227 3.12 10.9396c0 1.7126.4853 3.2923 1.2764 4.8612l2.8775-2.2312Z" fill="#FBBC05"></path>
                            <path d="M12.0004 6.3804c1.2393 0 2.352.426 3.2266 1.261l2.4173-2.4173C16.1866 3.9056 14.275 3.03 12.0004 3.03 8.7124 3.03 5.815 4.8626 4.3963 7.6792l2.8776 2.2312c.664-1.9966 2.5275-3.482 4.7265-3.482v-.048Z" fill="#EB4335"></path>
                        </svg>
                        <span>Google</span>
                    </a>
                </div>

                <!-- Footer Link -->
                <div class="bl-footer-link">
                    <p>
                        Chưa có tài khoản?
                        <a href="/bookseller/register">Đăng ký ngay</a>
                    </p>
                </div>
            </form>
        </div>
    </div>
</main>
</body>
</html>